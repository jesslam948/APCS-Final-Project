import java.awt.Dimension;
import java.awt.EventQueue;
import java.awt.Image;

import javax.swing.JFrame;

import java.awt.GridBagLayout;

import javax.swing.JButton;

import java.awt.GridBagConstraints;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import java.awt.Insets;

import javax.swing.ImageIcon;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.SwingConstants;

import net.miginfocom.swing.MigLayout;


public class InventoryGUI {

	private JFrame frame;
	private FSController fsControl;
	private JarPictLoader jar;

	/**
	 * Launch the application.
	 */
//	public static void main(String[] args) {
//		EventQueue.invokeLater(new Runnable() {
//			public void run() {
//				try {
//					InventoryGUI window = new InventoryGUI();
//					window.frame.setVisible(true);
//				} catch (Exception e) {
//					e.printStackTrace();
//				}
//			}
//		});
//	}

	/**
	 * Create the application.
	 */
	public InventoryGUI(FSController con, JarPictLoader j) {
		fsControl = con;
		jar = j;
		initialize();
	}

	public FSController getControl() {
		return fsControl;
	}
	
	/**
	 * Initialize the contents of the frame.
	 */
	private void initialize() {
		frame = new JFrame();
		frame.setBounds(100, 100, 450, 300);
		frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
		frame.setAutoRequestFocus(true);
		frame.setAlwaysOnTop(true);
		frame.setVisible(true);

		
		frame.getContentPane().setLayout(new MigLayout("", "[50px][50px][50px][50px][50px]", "[25px][25px][25px][20px][25px][25px]"));
		
		JLabel lblNewLabel = new JLabel("INVENTORY");
		frame.getContentPane().add(lblNewLabel, "cell 0 0 5 1,alignx center,aligny center");
		
		JLabel FishPic = new JLabel("");
		frame.getContentPane().add(FishPic, "cell 0 1,alignx center,aligny center");
		
		
		FishPic.setMinimumSize(new Dimension(40, 40));
		ImageIcon pFish = jar.getFish();
		
		Image img1 = pFish.getImage();
		Image newImg1 = img1.getScaledInstance(40, 40, Image.SCALE_SMOOTH);
		pFish = new ImageIcon(newImg1);
		
		FishPic.setIcon(pFish);
		
		
		JButton Fish = new JButton("Fish");
		frame.getContentPane().add(Fish, "cell 1 1 1 2,grow");
		
		JLabel GreenPic = new JLabel("");
		frame.getContentPane().add(GreenPic, "cell 3 1,alignx center,aligny center");
		
		
		GreenPic.setMinimumSize(new Dimension(40, 40));
		ImageIcon pGreen = jar.getGPotion();
		
		Image img2 = pGreen.getImage();
		Image newImg2 = img2.getScaledInstance(40, 40, Image.SCALE_SMOOTH);
		pGreen = new ImageIcon(newImg2);
		
		GreenPic.setIcon(pGreen);
		
		
		JButton GreenPotion = new JButton("Green");
		frame.getContentPane().add(GreenPotion, "cell 4 1 1 2,grow");
		
		JLabel FishNum = new JLabel("X 4");
		FishNum.setHorizontalAlignment(SwingConstants.CENTER);
		frame.getContentPane().add(FishNum, "cell 0 2,alignx center,aligny center");
		
		JLabel GreenNum = new JLabel("X 4");
		GreenNum.setHorizontalAlignment(SwingConstants.CENTER);
		frame.getContentPane().add(GreenNum, "cell 3 2,alignx center,aligny center");
		
		JLabel OrangePic = new JLabel("");
		frame.getContentPane().add(OrangePic, "cell 0 4,alignx center,aligny center");
		
		
		OrangePic.setMinimumSize(new Dimension(40, 40));
		ImageIcon pOrange = jar.getOPotion();
		
		Image img3 = pOrange.getImage();
		Image newImg3 = img3.getScaledInstance(40, 40, Image.SCALE_SMOOTH);
		pOrange = new ImageIcon(newImg3);
		
		OrangePic.setIcon(pOrange);
		
		
		JButton OrangePotion = new JButton("Orange");
		frame.getContentPane().add(OrangePotion, "cell 1 4 1 2,grow");
		
		JLabel PinkPic = new JLabel("");
		frame.getContentPane().add(PinkPic, "cell 3 4,alignx center,aligny center");
		
		
		PinkPic.setMinimumSize(new Dimension(40, 40));
		ImageIcon pPink = jar.getPPotion();
		
		Image img4 = pPink.getImage();
		Image newImg4 = img4.getScaledInstance(40, 40, Image.SCALE_SMOOTH);
		pPink = new ImageIcon(newImg4);
		
		PinkPic.setIcon(pPink);
		
		
		JButton PinkPotion = new JButton("Pink");
		frame.getContentPane().add(PinkPotion, "cell 4 4 1 2,grow");
		
		JLabel OrangeNum = new JLabel("X 4");
		OrangeNum.setHorizontalAlignment(SwingConstants.CENTER);
		frame.getContentPane().add(OrangeNum, "cell 0 5,alignx center,aligny center");
		
		JLabel PurpleNum = new JLabel("X 4");
		frame.getContentPane().add(PurpleNum, "cell 3 5,alignx center,aligny center");
	}

	///TODO show msg dialoge to make sure option chosen is wanted + pass action into FSCOntroller and close inventory window + decrease item num
	
	public boolean checkButton(String potion)
	{
		boolean use = false;
		int opt = JOptionPane.showConfirmDialog(frame, "You chose a " + potion + "!", "Are you sure you want to use it?", JOptionPane.OK_CANCEL_OPTION);
		
		if (opt == JOptionPane.CANCEL_OPTION)
		{
			use = false;
		}
		else if (opt == JOptionPane.YES_OPTION)
		{
			use = true;
			frame.dispose();
		}
		
		return use;
	}
}
